make: Entering directory '/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb'
rm -f results.xml
"make" -f Makefile results.xml
make[1]: Entering directory '/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb'
/home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/lib/python3.12/site-packages/cocotb_tools/makefiles/simulators/Makefile.verilator:69: Using MODULE is deprecated, please use COCOTB_TEST_MODULES instead.
/home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/lib/python3.12/site-packages/cocotb_tools/makefiles/simulators/Makefile.verilator:69: Using PLUSARGS is deprecated, please use COCOTB_PLUSARGS instead.
rm -f results.xml
COCOTB_TEST_MODULES=test_gpio COCOTB_TESTCASE= COCOTB_TEST_FILTER= COCOTB_TOPLEVEL=gpio_axi TOPLEVEL_LANG=verilog \
         sim_build/Vtop   +BUS_TYPE=AXI  
     -.--ns INFO     gpi                                ..mbed/gpi_embed.cpp:93   in _embed_init_python              Using Python 3.12.4 interpreter at /home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/bin/python
     -.--ns INFO     gpi                                ../gpi/GpiCommon.cpp:79   in gpi_print_registered_impl       VPI registered
     0.00ns INFO     cocotb                             Running on Verilator version 5.043 devel
     0.00ns INFO     cocotb                             Seeding Python random module with 1766364187
     0.00ns INFO     cocotb                             Initialized cocotb v2.0.1 from /home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/lib/python3.12/site-packages/cocotb
     0.00ns INFO     cocotb.regression                  pytest not found, install it to enable better AssertionError messages
     0.00ns INFO     cocotb                             Running tests
     0.00ns INFO     cocotb.regression                  running test_gpio.test_gpio_basic (1/6)
                                                            Test basic R/W and DIR control
     0.00ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:39: DeprecationWarning: `int(handle)` casts have been deprecated. Use `int(handle.value)` instead.
                                                          self.num_bits = int(dut.NUM_BITS)
   360.00ns INFO     cocotb.regression                  test_gpio.test_gpio_basic passed
   360.00ns INFO     cocotb.regression                  running test_gpio.test_atomic_ops (2/6)
                                                            Test Set/Clear/Toggle registers
   480.00ns INFO     cocotb.gpio_axi                    Starting Atomic Ops Test
   750.00ns INFO     cocotb.regression                  test_gpio.test_atomic_ops passed
   750.00ns INFO     cocotb.regression                  running test_gpio.test_interrupts (3/6)
                                                            Test Level and Edge Interrupts
  1020.00ns WARNING  .. test_interrupts.test_interrupts module 'cocotb' has no attribute 'binary'
                                                        Traceback (most recent call last):
                                                          File "/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py", line 227, in test_interrupts
                                                            dut.io.value = cocotb.binary.BinaryValue("z"*tester.num_bits) # Float first
                                                                           ^^^^^^^^^^^^^
                                                        AttributeError: module 'cocotb' has no attribute 'binary'
  1020.00ns WARNING  cocotb.regression                  test_gpio.test_interrupts failed
  1020.00ns INFO     cocotb.regression                  running test_gpio.test_debouncing (4/6)
                                                            Test Input Debouncing
  1550.00ns WARNING  .. test_debouncing.test_debouncing Debouncer failed to pass stable signal
                                                        Traceback (most recent call last):
                                                          File "/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py", line 277, in test_debouncing
                                                            assert (val & 0x1) == 1, "Debouncer failed to pass stable signal"
                                                                   ^^^^^^^^^^^^^^^^
                                                        AssertionError: Debouncer failed to pass stable signal
  1550.00ns WARNING  cocotb.regression                  test_gpio.test_debouncing failed
  1550.00ns INFO     cocotb.regression                  running test_gpio.test_inversion (5/6)
                                                            Test Input & Output Inversion
  2040.00ns WARNING  ..st test_inversion.test_inversion module 'cocotb' has no attribute 'binary'
                                                        Traceback (most recent call last):
                                                          File "/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py", line 301, in test_inversion
                                                            dut.io.value = cocotb.binary.BinaryValue("z"*tester.num_bits)
                                                                           ^^^^^^^^^^^^^
                                                        AttributeError: module 'cocotb' has no attribute 'binary'
  2040.00ns WARNING  cocotb.regression                  test_gpio.test_inversion failed
  2040.00ns INFO     cocotb.regression                  running test_gpio.test_pwm (6/6)
                                                            Test PWM generation
  3500.01ns INFO     cocotb.regression                  test_gpio.test_pwm passed
  3500.01ns INFO     cocotb.regression                  **************************************************************************************
                                                        ** TEST                          STATUS  SIM TIME (ns)  REAL TIME (s)  RATIO (ns/s) **
                                                        **************************************************************************************
                                                        ** test_gpio.test_gpio_basic      PASS         360.00           0.00     275236.86  **
                                                        ** test_gpio.test_atomic_ops      PASS         390.00           0.00     383086.31  **
                                                        ** test_gpio.test_interrupts      FAIL         270.00           0.00     207600.75  **
                                                        ** test_gpio.test_debouncing      FAIL         530.00           0.00     439671.90  **
                                                        ** test_gpio.test_inversion       FAIL         490.00           0.00     320825.63  **
                                                        ** test_gpio.test_pwm             PASS        1460.00           0.00     521075.89  **
                                                        **************************************************************************************
                                                        ** TESTS=6 PASS=3 FAIL=3 SKIP=0               3500.01           0.02     190623.22  **
                                                        **************************************************************************************
- :0: Verilog $finish
make[1]: *** [/home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/lib/python3.12/site-packages/cocotb_tools/makefiles/simulators/Makefile.verilator:70: results.xml] Error 3
make[1]: Leaving directory '/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb'
make: *** [/home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/lib/python3.12/site-packages/cocotb_tools/makefiles/Makefile.inc:17: sim] Error 2
make: Leaving directory '/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb'
