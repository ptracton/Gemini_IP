make: Entering directory '/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb'
rm -f results.xml
"make" -f Makefile results.xml
make[1]: Entering directory '/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb'
/home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/lib/python3.12/site-packages/cocotb_tools/makefiles/simulators/Makefile.verilator:69: Using MODULE is deprecated, please use COCOTB_TEST_MODULES instead.
/home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/lib/python3.12/site-packages/cocotb_tools/makefiles/simulators/Makefile.verilator:69: Using PLUSARGS is deprecated, please use COCOTB_PLUSARGS instead.
rm -f results.xml
COCOTB_TEST_MODULES=test_gpio COCOTB_TESTCASE= COCOTB_TEST_FILTER= COCOTB_TOPLEVEL=gpio_axi TOPLEVEL_LANG=verilog \
         sim_build/Vtop   +BUS_TYPE=AXI  
     -.--ns INFO     gpi                                ..mbed/gpi_embed.cpp:93   in _embed_init_python              Using Python 3.12.4 interpreter at /home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/bin/python
     -.--ns INFO     gpi                                ../gpi/GpiCommon.cpp:79   in gpi_print_registered_impl       VPI registered
     0.00ns INFO     cocotb                             Running on Verilator version 5.043 devel
     0.00ns INFO     cocotb                             Seeding Python random module with 1766364290
     0.00ns INFO     cocotb                             Initialized cocotb v2.0.1 from /home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/lib/python3.12/site-packages/cocotb
     0.00ns INFO     cocotb.regression                  pytest not found, install it to enable better AssertionError messages
     0.00ns INFO     cocotb                             Running tests
     0.00ns INFO     cocotb.regression                  running test_gpio.test_gpio_basic (1/6)
                                                            Test basic R/W and DIR control
   360.00ns INFO     cocotb.gpio_axi                    DATA_O: 0x63bf861b, DATA_I: 0x63bf861b
   360.00ns INFO     cocotb.regression                  test_gpio.test_gpio_basic passed
   360.00ns INFO     cocotb.regression                  running test_gpio.test_atomic_ops (2/6)
                                                            Test Set/Clear/Toggle registers
   750.00ns INFO     cocotb.regression                  test_gpio.test_atomic_ops passed
   750.00ns INFO     cocotb.regression                  running test_gpio.test_interrupts (3/6)
                                                            Test Level and Edge Interrupts
  1120.00ns WARNING  .. test_interrupts.test_interrupts Level High interrupt failed to trigger
                                                        Traceback (most recent call last):
                                                          File "/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py", line 227, in test_interrupts
                                                            assert dut.intr.value == 1, "Level High interrupt failed to trigger"
                                                                   ^^^^^^^^^^^^^^^^^^^
                                                        AssertionError: Level High interrupt failed to trigger
  1120.00ns WARNING  cocotb.regression                  test_gpio.test_interrupts failed
  1120.00ns INFO     cocotb.regression                  running test_gpio.test_debouncing (4/6)
                                                            Test Input Debouncing
  1350.00ns INFO     cocotb.gpio_axi                    Testing Glitch suppression
  1500.00ns INFO     cocotb.gpio_axi                    Testing Stable signal propagation
  1880.00ns WARNING  .. test_debouncing.test_debouncing Debouncer failed to pass stable signal. DATA_I=0x0
                                                        Traceback (most recent call last):
                                                          File "/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py", line 277, in test_debouncing
                                                            assert (val & 0x1) == 1, f"Debouncer failed to pass stable signal. DATA_I={hex(val)}"
                                                                   ^^^^^^^^^^^^^^^^
                                                        AssertionError: Debouncer failed to pass stable signal. DATA_I=0x0
  1880.00ns WARNING  cocotb.regression                  test_gpio.test_debouncing failed
  1880.00ns INFO     cocotb.regression                  running test_gpio.test_inversion (5/6)
                                                            Test Input & Output Inversion
  2690.00ns WARNING  ..st test_inversion.test_inversion Input inversion failed. DATA_I=0x1
                                                        Traceback (most recent call last):
                                                          File "/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py", line 306, in test_inversion
                                                            assert (val & 0x1) == 0, f"Input inversion failed. DATA_I={hex(val)}"
                                                                   ^^^^^^^^^^^^^^^^
                                                        AssertionError: Input inversion failed. DATA_I=0x1
  2690.00ns WARNING  cocotb.regression                  test_gpio.test_inversion failed
  2690.00ns INFO     cocotb.regression                  running test_gpio.test_pwm (6/6)
                                                            Test PWM generation
  4150.01ns INFO     cocotb.regression                  test_gpio.test_pwm passed
  4150.01ns INFO     cocotb.regression                  **************************************************************************************
                                                        ** TEST                          STATUS  SIM TIME (ns)  REAL TIME (s)  RATIO (ns/s) **
                                                        **************************************************************************************
                                                        ** test_gpio.test_gpio_basic      PASS         360.00           0.00     310178.60  **
                                                        ** test_gpio.test_atomic_ops      PASS         390.00           0.00     417290.45  **
                                                        ** test_gpio.test_interrupts      FAIL         370.00           0.00     374943.82  **
                                                        ** test_gpio.test_debouncing      FAIL         760.00           0.00     460779.28  **
                                                        ** test_gpio.test_inversion       FAIL         810.00           0.00     536796.69  **
                                                        ** test_gpio.test_pwm             PASS        1460.00           0.00     540388.62  **
                                                        **************************************************************************************
                                                        ** TESTS=6 PASS=3 FAIL=3 SKIP=0               4150.01           0.02     231560.23  **
                                                        **************************************************************************************
- :0: Verilog $finish
make[1]: *** [/home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/lib/python3.12/site-packages/cocotb_tools/makefiles/simulators/Makefile.verilator:70: results.xml] Error 3
make[1]: Leaving directory '/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb'
make: *** [/home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/lib/python3.12/site-packages/cocotb_tools/makefiles/Makefile.inc:17: sim] Error 2
make: Leaving directory '/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb'
