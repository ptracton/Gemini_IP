make: Entering directory '/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb'
rm -f results.xml
"make" -f Makefile results.xml
make[1]: Entering directory '/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb'
/home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/lib/python3.12/site-packages/cocotb_tools/makefiles/simulators/Makefile.verilator:69: Using MODULE is deprecated, please use COCOTB_TEST_MODULES instead.
/home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/lib/python3.12/site-packages/cocotb_tools/makefiles/simulators/Makefile.verilator:69: Using PLUSARGS is deprecated, please use COCOTB_PLUSARGS instead.
rm -f results.xml
COCOTB_TEST_MODULES=test_gpio COCOTB_TESTCASE= COCOTB_TEST_FILTER= COCOTB_TOPLEVEL=gpio_axi TOPLEVEL_LANG=verilog \
         sim_build/Vtop   +BUS_TYPE=AXI  
     -.--ns INFO     gpi                                ..mbed/gpi_embed.cpp:93   in _embed_init_python              Using Python 3.12.4 interpreter at /home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/bin/python
     -.--ns INFO     gpi                                ../gpi/GpiCommon.cpp:79   in gpi_print_registered_impl       VPI registered
     0.00ns INFO     cocotb                             Running on Verilator version 5.043 devel
     0.00ns INFO     cocotb                             Seeding Python random module with 1766364030
     0.00ns INFO     cocotb                             Initialized cocotb v2.0.1 from /home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/lib/python3.12/site-packages/cocotb
     0.00ns INFO     cocotb.regression                  pytest not found, install it to enable better AssertionError messages
     0.00ns INFO     cocotb                             Running tests
     0.00ns INFO     cocotb.regression                  running test_gpio.test_gpio_basic (1/6)
                                                            Test basic R/W and DIR control
     0.00ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:39: DeprecationWarning: `int(handle)` casts have been deprecated. Use `int(handle.value)` instead.
                                                          self.num_bits = int(dut.NUM_BITS)
     0.00ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:171: DeprecationWarning: The 'units' argument has been renamed to 'unit'.
                                                          clock = Clock(getattr(dut, clk_signal), 10, units="ns")
     0.00ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:50: DeprecationWarning: The 'units' argument has been renamed to 'unit'.
                                                          await Timer(100, units="ns")
   100.00ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:59: DeprecationWarning: The 'units' argument has been renamed to 'unit'.
                                                          await Timer(20, units="ns")
   190.00ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:185: DeprecationWarning: The 'units' argument has been renamed to 'unit'.
                                                          await Timer(50, units="ns") # Wait for sync
   270.00ns INFO     cocotb.regression                  test_gpio.test_gpio_basic passed
   270.00ns INFO     cocotb.regression                  running test_gpio.test_atomic_ops (2/6)
                                                            Test Set/Clear/Toggle registers
   270.00ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:194: DeprecationWarning: The 'units' argument has been renamed to 'unit'.
                                                          clock = Clock(getattr(dut, clk_signal), 10, units="ns")
   660.00ns INFO     cocotb.regression                  test_gpio.test_atomic_ops passed
   660.00ns INFO     cocotb.regression                  running test_gpio.test_pwm (3/6)
                                                            Test PWM generation
   660.00ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:221: DeprecationWarning: The 'units' argument has been renamed to 'unit'.
                                                          clock = Clock(getattr(dut, clk_signal), 10, units="ns")
   930.00ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:239: DeprecationWarning: The 'units' argument has been renamed to 'unit'.
                                                          await Timer(100, units="ns")
  1030.00ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:247: DeprecationWarning: `logic_array.integer` getter is deprecated. Use `logic_array.to_unsigned()` instead.
                                                          current_val = dut.io.value.integer & 0x1
  1520.00ns INFO     cocotb.regression                  test_gpio.test_pwm passed
  1520.00ns INFO     cocotb.regression                  running test_gpio.test_interrupts (4/6)
                                                            Test Level and Edge Interrupts
  1520.00ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:258: DeprecationWarning: The 'units' argument has been renamed to 'unit'.
                                                          clock = Clock(getattr(dut, clk_signal), 10, units="ns")
  1790.00ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:270: DeprecationWarning: The 'units' argument has been renamed to 'unit'.
                                                          await Timer(50, units="ns")
  1840.00ns WARNING  .. test_interrupts.test_interrupts Level High interrupt failed to trigger
                                                        Traceback (most recent call last):
                                                          File "/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py", line 271, in test_interrupts
                                                            assert dut.intr.value == 1, "Level High interrupt failed to trigger"
                                                                   ^^^^^^^^^^^^^^^^^^^
                                                        AssertionError: Level High interrupt failed to trigger
  1840.00ns WARNING  cocotb.regression                  test_gpio.test_interrupts failed
  1840.00ns INFO     cocotb.regression                  running test_gpio.test_debouncing (5/6)
                                                            Test Input Debouncing
  1840.00ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:304: DeprecationWarning: The 'units' argument has been renamed to 'unit'.
                                                          clock = Clock(getattr(dut, clk_signal), 10, units="ns")
  2050.00ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:317: DeprecationWarning: The 'units' argument has been renamed to 'unit'.
                                                          await Timer(100, units="ns")
  2280.00ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:325: DeprecationWarning: The 'units' argument has been renamed to 'unit'.
                                                          await Timer(20, units="ns")
  2330.00ns WARNING  .. test_debouncing.test_debouncing Debouncer failed to pass stable signal
                                                        Traceback (most recent call last):
                                                          File "/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py", line 327, in test_debouncing
                                                            assert (int(val) & 0x1) == 1, "Debouncer failed to pass stable signal"
                                                                   ^^^^^^^^^^^^^^^^^^^^^
                                                        AssertionError: Debouncer failed to pass stable signal
  2330.00ns WARNING  cocotb.regression                  test_gpio.test_debouncing failed
  2330.00ns INFO     cocotb.regression                  running test_gpio.test_inversion (6/6)
                                                            Test Input & Output Inversion
  2330.01ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:334: DeprecationWarning: The 'units' argument has been renamed to 'unit'.
                                                          clock = Clock(getattr(dut, clk_signal), 10, units="ns")
  2520.01ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:341: DeprecationWarning: The 'units' argument has been renamed to 'unit'.
                                                          await Timer(20, units="ns")
  2540.01ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:342: DeprecationWarning: `logic_array.integer` getter is deprecated. Use `logic_array.to_unsigned()` instead.
                                                          assert (dut.io.value.integer & 0x1) == 1
  2570.01ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:345: DeprecationWarning: The 'units' argument has been renamed to 'unit'.
                                                          await Timer(20, units="ns")
  2590.01ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:346: DeprecationWarning: `logic_array.integer` getter is deprecated. Use `logic_array.to_unsigned()` instead.
                                                          assert (dut.io.value.integer & 0x1) == 0, "Output inversion failed"
  2660.01ns WARNING  py.warnings                        /home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py:352: DeprecationWarning: The 'units' argument has been renamed to 'unit'.
                                                          await Timer(100, units="ns") # wait for sync
  2790.01ns WARNING  ..st test_inversion.test_inversion Input inversion failed
                                                        Traceback (most recent call last):
                                                          File "/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb/test_gpio.py", line 354, in test_inversion
                                                            assert (int(val) & 0x1) == 0, "Input inversion failed"
                                                                   ^^^^^^^^^^^^^^^^^^^^^
                                                        AssertionError: Input inversion failed
  2790.01ns WARNING  cocotb.regression                  test_gpio.test_inversion failed
  2790.01ns INFO     cocotb.regression                  **************************************************************************************
                                                        ** TEST                          STATUS  SIM TIME (ns)  REAL TIME (s)  RATIO (ns/s) **
                                                        **************************************************************************************
                                                        ** test_gpio.test_gpio_basic      PASS         270.00           0.00     188022.93  **
                                                        ** test_gpio.test_atomic_ops      PASS         390.00           0.00     363506.35  **
                                                        ** test_gpio.test_pwm             PASS         860.00           0.00     414323.62  **
                                                        ** test_gpio.test_interrupts      FAIL         320.00           0.00     266781.41  **
                                                        ** test_gpio.test_debouncing      FAIL         490.00           0.00     341964.89  **
                                                        ** test_gpio.test_inversion       FAIL         460.00           0.00     294876.94  **
                                                        **************************************************************************************
                                                        ** TESTS=6 PASS=3 FAIL=3 SKIP=0               2790.01           0.02     153607.53  **
                                                        **************************************************************************************
- :0: Verilog $finish
make[1]: *** [/home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/lib/python3.12/site-packages/cocotb_tools/makefiles/simulators/Makefile.verilator:70: results.xml] Error 3
make[1]: Leaving directory '/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb'
make: *** [/home/ptracton/src/Gemini_IP/virtualenv/GEMINI_IP_PYTHON/lib/python3.12/site-packages/cocotb_tools/makefiles/Makefile.inc:17: sim] Error 2
make: Leaving directory '/home/ptracton/src/Gemini_IP/IP/interface/GPIO/verif/cocotb'
